using System.Numerics;
using System.Text;
using Tools;

class Program
{
    static void Main(string[] args)
    {
        RSA rsa = new RSA();

        string tmp = "368468983608249904065871905083459526990296448336454619598770747354953855209855201570161358794075595947955363632263031251586059252140424488278695767542057284318161906351532241461813250270379606648770128767306028932919928238144357805965632720162483726933140511824323473615642454082792440835883784088149638444084491930287416737195365409217166749637457265188330983139290891098418634540892951783908783060154432912910923963067309161673599742023910960196652661566637243266992118604334238411092566813861070253690095987387974287776081295179286683507740545158708618721280796462441655958818526916243696665044457063264553136577275994176745865307743389163218112501746103751681739708021380260096415050766800048938261228734815826462182014109382194533314621953820639913023975544969017099209568034351761589841199896985307005643303827444895045553761811756359955018786995856879351311357129120988523405426887730033499772857590351531816086985290293970650895093114451441019647691765200187709648557461978806271744909134654779873360891880508825293917768608180084635270523008572985381920981033341768153983235084920422238395969189595223530023395761622879768132251557528582714419488644539313889995987081093807703045285904862118668944201954146131089517496867471";
        byte[] data = new byte[tmp.Length];

        BigInteger qwe = BigInteger.Parse(tmp);
        //Console.WriteLine(qwe % 60);
        Console.WriteLine(IsTheRealPrime(qwe));

        //var p = rsa.GetPrimeBigInteger();
        //Console.WriteLine(Encoding.Default.GetString(p.ToByteArray()));

        //var q = rsa.GetPrimeBigInteger();
        //Console.WriteLine(Encoding.Default.GetString(q.ToByteArray()));

        //StreebogTest();
    }

    static bool IsTheRealPrime(BigInteger number)
    {
        for (UInt64 i = 2; i < number; i++)
            if (number % i == 0 && i != number)
                return false;
        
        return true;
    }

    static void StreebogTest()
    {
        string tmp = "";
        byte[] message =
        {
            0x32,0x31,0x30,0x39,0x38,0x37,0x36,0x35,0x34,0x33,0x32,0x31,0x30,0x39,0x38,0x37,
            0x36,0x35,0x34,0x33,0x32,0x31,0x30,0x39,0x38,0x37,0x36,0x35,0x34,0x33,0x32,0x31,
            0x30,0x39,0x38,0x37,0x36,0x35,0x34,0x33,0x32,0x31,0x30,0x39,0x38,0x37,0x36,0x35,
            0x34,0x33,0x32,0x31,0x30,0x39,0x38,0x37,0x36,0x35,0x34,0x33,0x32,0x31,0x30
        };
        tmp = Encoding.Default.GetString(message);

        Console.WriteLine(new Streebog().GetHash(message));
        Console.WriteLine(new Streebog().GetHash(tmp));
    }
}
